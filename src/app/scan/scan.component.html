<div class="flex justify-center items-center h-[calc(100vh-64px)]">
  <div
    *ngIf="shapePath; else notFound"
    [class.bg-black]="isDarkMode"
    [class.bg-white]="!isDarkMode"
    class="max-w-sm mx-auto rounded-lg shadow-md overflow-hidden border-2 border-gray-300 relative"
  >
    <div>
      <svg
        *ngIf="!isCameraActive"
        alt="Shape"
        width="300"
        height="300"
        viewBox="0 0 306 306"
        [attr.fill]="isDarkMode ? 'white' : 'black'"
      >
        <path [attr.d]="shapePath"></path>
      </svg>
      <canvas
        *ngIf="isCameraActive"
        #canvasElement
        class="block w-full h-auto p-2"
      ></canvas>
    </div>

    <!-- Check mark en la esquina superior derecha -->
    <div
      class="absolute top-2 right-2 bg-green-500 text-white rounded-full p-1"
      *ngIf="isShapeCompleted"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-4 w-4"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M5 13l4 4L19 7"
        />
      </svg>
    </div>

    <div class="p-2 text-center">
      <!-- BotÃ³n para tomar una foto -->
      <input
        id="takePictureInput"
        type="file"
        accept="image/*"
        capture="environment"
        class="hidden"
        (change)="handlePhotoCapture($event)"
      />
      <label
        for="takePictureInput"
        class="px-4 py-2 bg-blue-500 text-white font-semibold rounded-lg shadow-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-opacity-75 cursor-pointer"
      >
        Scan
      </label>
    </div>
    <div>
      <p class="p-2 pt-4 text-center text-green-500 font-semibold">
        {{ predictionMessageG }}
      </p>
      <p class="p-2 pt-4 text-center text-red-500 font-semibold">
        {{ predictionMessageB }}
      </p>
    </div>
  </div>

  <ng-template #notFound>
    <p class="text-center text-gray-500 font-bold">Loading shape...</p>
  </ng-template>
</div>
